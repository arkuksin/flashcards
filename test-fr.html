<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>French Dataset Test</title>
</head>
<body>
    <h1 id="test-result">Testing...</h1>
    <div id="details"></div>
    
    <script src="./data/dataset-en.js"></script>
    <script src="./data/dataset-fr.js"></script>
    <script>
        const testResult = document.getElementById('test-result');
        const details = document.getElementById('details');
        
        function log(msg) {
            details.innerHTML += msg + '<br>';
            console.log(msg);
        }
        
        try {
            log('Testing dataset loading...');
            
            // Test EN dataset
            log('EN dataset: ' + (window.DATASET_EN ? 'loaded' : 'NOT LOADED'));
            if (window.DATASET_EN) {
                log('EN words: ' + (window.DATASET_EN.WORDS ? window.DATASET_EN.WORDS.length : 'missing'));
                log('EN themes: ' + (window.DATASET_EN.THEMES ? window.DATASET_EN.THEMES.length : 'missing'));
            }
            
            // Test FR dataset
            log('FR dataset: ' + (window.DATASET_FR ? 'loaded' : 'NOT LOADED'));
            if (window.DATASET_FR) {
                log('FR words: ' + (window.DATASET_FR.WORDS ? window.DATASET_FR.WORDS.length : 'missing'));
                log('FR themes: ' + (window.DATASET_FR.THEMES ? window.DATASET_FR.THEMES.length : 'missing'));
                
                // Test if it's a valid array
                if (Array.isArray(window.DATASET_FR.WORDS)) {
                    log('FR WORDS is valid array');
                    log('First word: ' + JSON.stringify(window.DATASET_FR.WORDS[0]));
                    log('Last word: ' + JSON.stringify(window.DATASET_FR.WORDS[window.DATASET_FR.WORDS.length - 1]));
                } else {
                    log('FR WORDS is NOT an array: ' + typeof window.DATASET_FR.WORDS);
                }
                
                if (Array.isArray(window.DATASET_FR.THEMES)) {
                    log('FR THEMES is valid array');
                    log('Themes: ' + window.DATASET_FR.THEMES.map(t => t.name).join(', '));
                } else {
                    log('FR THEMES is NOT an array: ' + typeof window.DATASET_FR.THEMES);
                }
            }
            
            testResult.textContent = 'Test completed - check details below';
            testResult.style.color = 'green';
            
        } catch (error) {
            testResult.textContent = 'Test failed: ' + error.message;
            testResult.style.color = 'red';
            log('Error: ' + error.message);
            log('Stack: ' + error.stack);
        }
    </script>
</body>
</html>